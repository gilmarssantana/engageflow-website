cd engageflow-websit
#!/bin/bash

# SCRIPT AUTOMATIZADO: CORRIGIR ERRO VERCEL ENGAGEFLOW
# Resolve definitivamente o erro ENOENT package.json

set -e  # Para na primeira falha

echo "üöÄ INICIANDO CORRE√á√ÉO AUTOM√ÅTICA DO ENGAGEFLOW..."
echo "=================================================="

# Verificar se estamos no diret√≥rio correto
if [ ! -d ".git" ]; then
    echo "‚ùå ERRO: Execute este script dentro do reposit√≥rio engageflow-website"
    echo "üí° Solu√ß√£o: cd engageflow-website && bash fix_engageflow_vercel.sh"
    exit 1
fi

echo "‚úÖ Reposit√≥rio Git detectado"

# Fazer backup
echo "üì¶ Criando backup..."
BACKUP_BRANCH="backup-$(date +%Y%m%d-%H%M%S)"
git checkout -b "$BACKUP_BRANCH"
git push -u origin "$BACKUP_BRANCH" || echo "‚ö†Ô∏è  Aviso: N√£o foi poss√≠vel fazer push do backup"
git checkout main

echo "‚úÖ Backup criado: $BACKUP_BRANCH"

# Criar package.json
echo "üìÑ Criando package.json..."
cat > package.json << 'EOF'
{
  "name": "engageflow-website",
  "private": true,
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "lucide-react": "^0.263.1"
  },
  "devDependencies": {
    "@types/react": "^18.2.15",
    "@types/react-dom": "^18.2.7",
    "@vitejs/plugin-react": "^4.0.3",
    "autoprefixer": "^10.4.14",
    "postcss": "^8.4.24",
    "tailwindcss": "^3.3.0",
    "vite": "^4.4.5"
  }
}
EOF

# Criar vite.config.js
echo "‚öôÔ∏è  Criando vite.config.js..."
cat > vite.config.js << 'EOF'
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  build: {
    outDir: 'dist',
    sourcemap: false,
    minify: 'terser'
  },
  server: {
    port: 5173,
    host: true
  }
})
EOF

# Criar index.html
echo "üåê Criando index.html..."
cat > index.html << 'EOF'
<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EngageFlow - Transforme Sua Cidade com Participa√ß√£o C√≠vica Inteligente</title>
    <meta name="description" content="Plataforma de IA para participa√ß√£o c√≠vica que aumenta o engajamento cidad√£o em 400%. Dispensa de licita√ß√£o at√© R$ 54k/ano." />
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
EOF

# Criar estrutura src/
echo "üìÅ Criando estrutura src/..."
mkdir -p src

# Criar src/main.jsx
cat > src/main.jsx << 'EOF'
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.jsx'
import './index.css'

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)
EOF

# Criar src/index.css
cat > src/index.css << 'EOF'
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', sans-serif;
  line-height: 1.6;
  color: #333;
  background-color: #ffffff;
}

html {
  scroll-behavior: smooth;
}
EOF

# Criar src/App.jsx
echo "‚öõÔ∏è  Criando src/App.jsx..."
cat > src/App.jsx << 'EOF'
import React, { useState } from 'react'

function App() {
  const [formData, setFormData] = useState({
    name: '',
    email: '',
    organization: '',
    message: ''
  })

  const handleSubmit = (e) => {
    e.preventDefault()
    alert('Obrigado! Entraremos em contato em breve.')
    setFormData({ name: '', email: '', organization: '', message: '' })
  }

  const handleInputChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value
    })
  }

  return (
    <div className="min-h-screen bg-white">
      {/* Header */}
      <header className="bg-blue-600 text-white py-4">
        <div className="max-w-7xl mx-auto px-4">
          <h1 className="text-3xl font-bold">EngageFlow</h1>
        </div>
      </header>

      {/* Hero Section */}
      <section className="py-20 bg-gradient-to-br from-blue-50 to-white">
        <div className="max-w-7xl mx-auto px-4 text-center">
          <h1 className="text-5xl font-bold text-gray-900 mb-6">
            Transforme Sua Cidade com
            <span className="text-blue-600 block">Participa√ß√£o C√≠vica Inteligente</span>
          </h1>
          <p className="text-xl text-gray-600 mb-8 max-w-3xl mx-auto">
            Plataforma de IA que aumenta o engajamento cidad√£o em 400%, economiza R$ 500k/ano 
            e implementa em apenas 30 dias. Dispensa de licita√ß√£o at√© R$ 54k/ano.
          </p>
          <div className="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="#contact" className="bg-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-blue-700 transition-colors">
              Solicitar Demo Gratuita
            </a>
            <a href="#features" className="border border-blue-600 text-blue-600 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-blue-50 transition-colors">
              Ver Funcionalidades
            </a>
          </div>
          
          {/* Stats */}
          <div className="grid grid-cols-2 md:grid-cols-4 gap-8 mt-16">
            <div className="text-center">
              <div className="text-3xl font-bold text-blue-600">500+</div>
              <div className="text-gray-600">Munic√≠pios</div>
            </div>
            <div className="text-center">
              <div className="text-3xl font-bold text-blue-600">2M+</div>
              <div className="text-gray-600">Cidad√£os Engajados</div>
            </div>
            <div className="text-center">
              <div className="text-3xl font-bold text-blue-600">400%</div>
              <div className="text-gray-600">Aumento Participa√ß√£o</div>
            </div>
            <div className="text-center">
              <div className="text-3xl font-bold text-blue-600">30</div>
              <div className="text-gray-600">Dias Implementa√ß√£o</div>
            </div>
          </div>
        </div>
      </section>

      {/* Features */}
      <section id="features" className="py-16 bg-gray-50">
        <div className="max-w-7xl mx-auto px-4">
          <div className="text-center mb-16">
            <h2 className="text-3xl font-bold text-gray-900 mb-4">Funcionalidades Que Transformam</h2>
            <p className="text-xl text-gray-600 max-w-3xl mx-auto">
              Tecnologia de ponta para revolucionar a participa√ß√£o c√≠vica na sua cidade
            </p>
          </div>

          <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
            <div className="bg-white p-8 rounded-lg shadow-sm">
              <h3 className="text-xl font-semibold text-gray-900 mb-4">IA Conversacional</h3>
              <p className="text-gray-600">
                Chatbot inteligente que conduz consultas p√∫blicas de forma natural, 
                aumentando a participa√ß√£o em 400%.
              </p>
            </div>

            <div className="bg-white p-8 rounded-lg shadow-sm">
              <h3 className="text-xl font-semibold text-gray-900 mb-4">Analytics Avan√ßado</h3>
              <p className="text-gray-600">
                Dashboard com insights em tempo real, an√°lise de sentimentos e 
                relat√≥rios executivos autom√°ticos.
              </p>
            </div>

            <div className="bg-white p-8 rounded-lg shadow-sm">
              <h3 className="text-xl font-semibold text-gray-900 mb-4">Seguran√ßa LGPD</h3>
              <p className="text-gray-600">
                Compliance total com LGPD, criptografia end-to-end e 
                auditoria completa de dados.
              </p>
            </div>

            <div className="bg-white p-8 rounded-lg shadow-sm">
              <h3 className="text-xl font-semibold text-gray-900 mb-4">Multi-Canal</h3>
              <p className="text-gray-600">
                Integra√ß√£o com WhatsApp, SMS, site, app mobile e 
                totens f√≠sicos para m√°ximo alcance.
              </p>
            </div>

            <div className="bg-white p-8 rounded-lg shadow-sm">
              <h3 className="text-xl font-semibold text-gray-900 mb-4">Implementa√ß√£o R√°pida</h3>
              <p className="text-gray-600">
                Setup completo em 30 dias com treinamento da equipe e 
                suporte dedicado inclu√≠do.
              </p>
            </div>

            <div className="bg-white p-8 rounded-lg shadow-sm">
              <h3 className="text-xl font-semibold text-gray-900 mb-4">Integra√ß√£o Total</h3>
              <p className="text-gray-600">
                Conecta com sistemas municipais existentes via API, 
                sem necessidade de substitui√ß√£o.
              </p>
            </div>
          </div>
        </div>
      </section>

      {/* Contact */}
      <section id="contact" className="py-16">
        <div className="max-w-7xl mx-auto px-4">
          <div className="max-w-2xl mx-auto">
            <h2 className="text-3xl font-bold text-gray-900 mb-6 text-center">
              Pronto para Transformar Sua Cidade?
            </h2>
            <p className="text-xl text-gray-600 mb-8 text-center">
              Agende uma demo personalizada e veja como o EngageFlow pode revolucionar 
              a participa√ß√£o c√≠vica no seu munic√≠pio.
            </p>
            
            <form onSubmit={handleSubmit} className="space-y-6 bg-gray-50 p-8 rounded-lg">
              <div>
                <label htmlFor="name" className="block text-sm font-medium text-gray-700 mb-2">
                  Nome Completo *
                </label>
                <input
                  type="text"
                  id="name"
                  name="name"
                  required
                  value={formData.name}
                  onChange={handleInputChange}
                  className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"
                  placeholder="Seu nome completo"
                />
              </div>
              
              <div>
                <label htmlFor="email" className="block text-sm font-medium text-gray-700 mb-2">
                  Email Profissional *
                </label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  required
                  value={formData.email}
                  onChange={handleInputChange}
                  className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"
                  placeholder="seu.email@prefeitura.gov.br"
                />
              </div>
              
              <div>
                <label htmlFor="organization" className="block text-sm font-medium text-gray-700 mb-2">
                  Organiza√ß√£o *
                </label>
                <input
                  type="text"
                  id="organization"
                  name="organization"
                  required
                  value={formData.organization}
                  onChange={handleInputChange}
                  className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"
                  placeholder="Prefeitura Municipal de..."
                />
              </div>
              
              <div>
                <label htmlFor="message" className="block text-sm font-medium text-gray-700 mb-2">
                  Mensagem
                </label>
                <textarea
                  id="message"
                  name="message"
                  rows={4}
                  value={formData.message}
                  onChange={handleInputChange}
                  className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"
                  placeholder="Conte-nos sobre seus desafios de participa√ß√£o c√≠vica..."
                />
              </div>
              
              <button
                type="submit"
                className="w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors"
              >
                Solicitar Demo Gratuita
              </button>
            </form>
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer className="bg-gray-900 text-white py-12">
        <div className="max-w-7xl mx-auto px-4 text-center">
          <h3 className="text-2xl font-bold mb-4">EngageFlow</h3>
          <p className="text-gray-400 mb-4">
            Transformando a participa√ß√£o c√≠vica com intelig√™ncia artificial.
          </p>
          <p className="text-gray-400">
            ¬© 2024 EngageFlow. Todos os direitos reservados.
          </p>
        </div>
      </footer>
    </div>
  )
}

export default App
EOF

# Criar .gitignore
echo "üö´ Criando .gitignore..."
cat > .gitignore << 'EOF'
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

node_modules
dist
dist-ssr
*.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
EOF

# Verificar estrutura
echo "üîç Verificando estrutura criada..."
echo "Arquivos na raiz:"
ls -la | grep -E "(package\.json|vite\.config\.js|index\.html|\.gitignore)"

echo "Arquivos em src/:"
ls -la src/ | grep -E "(main\.jsx|App\.jsx|index\.css)"

# Verificar se package.json est√° correto
if [ -f "package.json" ]; then
    echo "‚úÖ package.json criado com sucesso"
    echo "üì¶ Depend√™ncias principais:"
    grep -A 5 '"dependencies"' package.json
else
    echo "‚ùå ERRO: package.json n√£o foi criado"
    exit 1
fi

# Adicionar ao Git
echo "üì§ Adicionando arquivos ao Git..."
git add .

# Verificar status
echo "üìä Status do Git:"
git status --porcelain

# Fazer commit
echo "üíæ Fazendo commit..."
git commit -m "fix: Resolve erro ENOENT - Adiciona estrutura React completa
